/*
DayPilot Lite
Copyright (c) 2005 - 2025 Annpoint s.r.o.
https://www.daypilot.org/
Licensed under Apache Software License 2.0
Version: 2025.2.674-lite
*/
if("undefined"==typeof DayPilot)var DayPilot={};"undefined"==typeof DayPilot.Global&&(DayPilot.Global={}),function(DayPilot){"use strict";function t(t){var e=t.touches[0].pageX,i=t.touches[0].pageY,n={};return n.x=e,n.y=i,n}if("undefined"==typeof DayPilot.Scheduler){var e=navigator.userAgent.indexOf("iPad")>-1||navigator.userAgent.indexOf("iPhone")>-1,i={},n=function(){},s=!1,r=function(){return document.body},a=function(){return document.createElement("div")};DayPilot.Scheduler=function(s,o){this.v="2025.2.674-lite";var l=this;this.isScheduler=!0,this.id=s,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellsMarkBusiness=!0,this.cssClassPrefix="scheduler_default",this.days=1,this.durationBarHeight=3,this.durationBarVisible=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.eventEndSpec="DateTime",this.eventHeight=35,this.eventMinWidth=1,this.eventResizeMargin=5,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventsLoadMethod="GET",this.floatingEvents=!e,this.floatingTimeHeaders=!0,this.headerHeight=30,this.heightSpec="Max",this.height=600,this.locale="en-us",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderWidth=80,this.rowsLoadMethod="GET",this.scale="CellDuration",this.scrollDelayEvents=200,this.scrollDelayCells=e?100:0,this.scrollDelayFloats=0,this.scrollDelayRows=0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=DayPilot.Date.today(),this.tapAndHoldTimeout=300,this.timeHeaders=[{"groupBy":"Default"},{"groupBy":"Cell"}],this.timeHeaderTextWrappingEnabled=!1,this.timeFormat="Auto",this.useEventBoxes="Always",this.visible=!0,this.weekStarts="Auto",this.width=null,this.xssProtection="Enabled",this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.timeHeaderClickHandling="Enabled",this.timeHeaderRightClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventResize=null,this.onEventResized=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeHeaderClick=null,this.onTimeHeaderClicked=null,this.onTimeHeaderRightClick=null,this.onTimeHeaderRightClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onAfterUpdate=null,this.a=!1,this.b=-1,this.c=!0,this.rowlist=[],this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.range=[],this.elements.timeHeader=[],this.d={},this.d.cells=[],this.d.linesVertical={},this.d.linesHorizontal={},this.d.timeHeaderGroups=[],this.d.timeHeader={},this.d.events=[],this.nav={},this.scrollTo=function(t){l.f(t)},this.f=function(t){if(t){if(!l.g)return void(l.j=t);var e;if(t instanceof DayPilot.Date)e=this.getPixels(t).left;else if("string"==typeof t)e=this.getPixels(new DayPilot.Date(t)).left;else{if("number"!=typeof t)throw new DayPilot.Exception("Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object");e=t}var i=l.k.clientWidth,n=l.nav.scroll.clientWidth;e<0&&(e=0),e>i-n&&(e=i-n),l.l(e)}},this.scrollToResource=function(t){DayPilot.complete(function(){var e;if("string"==typeof t||"number"==typeof t)e=l.m(t);else{if(!(t instanceof DayPilot.Row))throw new DayPilot.Exception("Invalid scrollToResource() argument: id or DayPilot.Row expected");e=l.m(t.id)}e&&setTimeout(function(){var t=e.top;l.nav.scroll.scrollTop=t},100)})},this.n=function(){if(this.floatingTimeHeaders&&this.timeHeader){var t=l.o();if(t){l.p();for(var e=t.pixels.left,i=t.pixels.right+t.sw,n=[],s=0;s<this.timeHeader.length;s++)for(var r=0;r<this.timeHeader[s].length;r++){var a=this.timeHeader[s][r],o=a.left,d=a.left+a.width,c=null;if(o<e&&e<d&&(c={},c.x=r,c.y=s,c.marginLeft=e-o,c.marginRight=0,c.div=l.d.timeHeader[r+"_"+s],n.push(c)),o<i&&i<d){c||(c={},c.x=r,c.y=s,c.marginLeft=0,c.div=l.d.timeHeader[r+"_"+s],n.push(c)),c.marginRight=d-i;break}}for(var h=0;h<n.length;h++){var c=n[h];l.q(c.div,c.marginLeft,c.marginRight)}}}},this.r=function(){l.n(),l.s()},this.t={};var d=l.t;d.u=function(t,e,i,n){var s=t,r=t+i,a=e,o=e+n;return l.elements.events.filter(function(t){var e=t.event,i=e.part.left,n=e.part.left+e.part.width,d=l.rowlist[e.part.dayIndex],c=d.top+e.part.top,h=c+l.eventHeight;if(DayPilot.Util.overlaps(i,n,s,r)&&DayPilot.Util.overlaps(c,h,a,o))return!0})},d.z=function(){var t=[],e=l.o();if(!e)return t;for(var i=e.pixels.left,n=0;n<l.elements.events.length;n++){var s=l.elements.events[n],r=s.event,a=r.part.left,o=r.part.left+r.part.width;a<i&&i<o&&t.push(s)}return t.area=e,t},this.s=function(){if(this.floatingEvents){var t=d.z();l.A(),t.forEach(function(e){var i=e.event,n=t.area.pixels.left,s=i.part.left,r=n-s;l.B(e,r,0)})}},this.elements.sections=[],this.elements.hsections=[],this.q=function(t,e,i){var n=a();n.className=l.C("_timeheader_float"),n.style.position="absolute",n.style.left=e+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var s=a();s.className=l.C("_timeheader_float_inner");var r=t.cell.th;s.innerHTML=l.D(r.text,r.innerHTML),r.fontColor&&(s.style.color=r.fontColor),n.appendChild(s),t.section=n,t.insertBefore(n,t.firstChild.nextSibling),t.firstChild.innerHTML="",this.elements.hsections.push(t)},this.p=function(){for(var t=0;t<this.elements.hsections.length;t++){var e=this.elements.hsections[t],i=e.cell;i&&e.firstChild&&(e.firstChild.innerHTML=l.D(i.th.text,i.th.innerHTML)),DayPilot.de(e.section),e.section=null}this.elements.hsections=[]},this.B=function(t,e,i){var n=a();n.className=l.C("_event_float"),n.style.position="absolute",n.style.left=e+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var s=a();s.className=l.C("_event_float_inner"),s.innerHTML=t.event.client.html(),n.appendChild(s),t.section=n,t.insertBefore(n,t.firstChild.nextSibling),t.firstChild.innerHTML="";var r=t.event,o=r.cache||r.data;o.fontColor&&(s.style.color=o.fontColor),this.elements.sections.push(t)},this.A=function(){for(var t=0;t<this.elements.sections.length;t++){var e=this.elements.sections[t],i=e.event;i&&(e.firstChild.innerHTML=i.client.html()),DayPilot.de(e.section),e.section=null}this.elements.sections=[]},this.setScrollX=function(t){l.E.enabled?(l.E.scrollXRequested=t,setTimeout(function(){var t=l.E.scrollXRequested;"number"==typeof t&&l.l(t)},0)):l.l(t)},this.l=function(t){var e=l.nav.scroll,i=l.F();e.clientWidth+t>i&&(t=i-e.clientWidth),l.divTimeScroll.scrollLeft=t,e.scrollLeft=t},this.setScrollY=function(t){l.E.enabled?(l.E.scrollYRequested=t,setTimeout(function(){var t=l.E.scrollYRequested;"number"==typeof t&&l.G(t)},0)):l.G(t)},this.G=function(t){var e=l.nav.scroll,i=l.b;e.clientHeight+t>i&&(t=i-e.clientHeight),l.divResScroll.scrollTop=t,e.scrollTop=t},this.setScroll=function(t,e){l.setScrollX(t),l.setScrollY(e)},this.H=function(){if(this.nav.scroll){!function(){var t=l.F();l.k.style.height=l.b+"px",l.k.style.width=t+"px",t>l.nav.scroll.clientWidth?l.nav.scroll.style.overflowX="auto":l.nav.scroll.style.overflowX="hidden"}();var t=1;this.nav.scroll.style.height="30px";var e=this.I(),i=e+this.J()+t;if(e>=0&&(this.nav.scroll.style.height=e+"px",this.K.style.height=e+"px"),this.nav.divider&&((!i||isNaN(i)||i<0)&&(i=0),this.nav.divider.style.height=i+"px"),this.nav.top.style.height=i+"px",l.nav.resScrollSpace){var n=30;"Auto"===l.heightSpec&&(n=DayPilot.sh(l.nav.scroll)),l.nav.resScrollSpace.style.height=n+"px"}for(var s=0;s<this.elements.linesVertical.length;s++)this.elements.linesVertical[s].style.height=this.b+"px"}},this.L=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.timeHeader=[];var t=this.timeHeaders;t||(t=[{"groupBy":this.cellGroupBy},{"groupBy":"Cell"}]);for(var e=l.startDate.addDays(l.days),i=0;i<t.length;i++){var n=t[i].groupBy,s=t[i].format;"Default"===n&&(n=this.cellGroupBy);for(var r=[],a=l.startDate;a.ticks<e.ticks;){var o={};if(o.start=a,o.end=this.M(o.start,n),o.start.ticks===o.end.ticks)break;o.left=this.getPixels(o.start).left;var d=this.getPixels(o.end).left,c=d-o.left;o.width=c,"string"==typeof s?o.text=o.start.toString(s,v.N()):o.text=this.O(o,n),c>0&&r.push(o),a=o.end}this.timeHeader.push(r)}},this.getPixels=function(t){var e=l.startDate.addDays(l.days);t=t.ticks>e.ticks?e.addTime(-1):t;var i=t.ticks-this.startDate.ticks,n=l.P(i),s=l.cellWidth,r=Math.floor(n/s),a=r*s;return{left:n,boxLeft:a,boxRight:a+s,i:r}},this.getDate=function(t,e,i){var n=this.Q(t,i);if(!n)return null;var s=n.x,r=l.R(s);if(!r)return null;var a=i&&!e?r.end:r.start;return e?a.addTime(this.S(n.offset)):a},this.Q=function(t,e){e&&(t-=1);var i=Math.floor(t/l.cellWidth),n=l.R(i);if(!n)return null;var s={};return s.x=i,s.offset=t%l.cellWidth,s.cell=n,s},this.T=function(t){var e=t.ticks-this.startDate.ticks,i=60*l.U()*1e3;if(e<0)return{past:!0};var n=Math.floor(e/i);return{i:n,current:l.R(n)}},this.P=function(t){var e=60*l.U()*1e3,i=l.cellWidth;return Math.floor(i*t/e)},this.S=function(t){var e=60*l.U()*1e3,i=l.cellWidth;return Math.floor(t/i*e)},this.V=function(t){DayPilot.Global.touch.start||i.W||(l.X={},l.Y(this,t))},this.Y=function(t,e){t.event&&l.Z(t,e)},this._=function(t){if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){var e=this.event;if(t.cancelBubble=!0,t.preventDefault(),!this.event.client.rightClickEnabled())return!1;l.aa(t);var i={};if(i.e=e,i.div=this,i.originalEvent=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onEventRightClick&&(l.onEventRightClick(i),i.preventDefault.value))return!1;switch(l.eventRightClickHandling){case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):l.contextMenu&&l.contextMenu.show(this.event)}return"function"==typeof l.onEventRightClicked&&l.onEventRightClicked(i),!1}},this.R=function(t){var e=l.U(),i=60*e*1e3;return{start:l.startDate.addTime(t*i),end:l.startDate.addTime((t+1)*i),left:t*l.cellWidth,width:l.cellWidth}},this.Z=function(t,e){if("boolean"==typeof e)throw new DayPilot.Exception("Invalid _eventClickSingle parameters");var i=t.event;if(i){var n=e.ctrlKey,s=e.metaKey;if(i.client.clickEnabled()){l.aa(e);var r={};r.e=i,r.control=l,r.div=t,r.originalEvent=e,r.ctrl=n,r.meta=s,r.shift=e.shiftKey,r.preventDefault=function(){this.preventDefault.value=!0},r.toJSON=function(){return DayPilot.Util.copyProps(r,{},["e","ctrl","meta","shift"])},"function"==typeof l.onEventClick&&(l.onEventClick(r),r.preventDefault.value)||"function"==typeof l.onEventClicked&&l.onEventClicked(r)}}},this.ba=function(t){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},e.control=l,e.toJSON=function(){return DayPilot.Util.copyProps(e,{},["e"])},"function"!=typeof l.onEventDelete||(l.onEventDelete(e),!e.preventDefault.value)){switch(l.eventDeleteHandling){case"Update":l.events.remove(t)}"function"==typeof l.onEventDeleted&&l.onEventDeleted(e)}},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getScrollY=function(){return this.nav.scroll.scrollTop},this.ca=function(t,e,i,n){if("Disabled"!==this.eventResizeHandling){i=l.da(i);var s={};s.e=t,s.async=!1,s.loaded=function(){r()},s.newStart=e,s.newEnd=i,s.what=n,s.preventDefault=function(){this.preventDefault.value=!0},s.control=l,s.toJSON=function(){return DayPilot.Util.copyProps(s,{},["e","async","newStart","newEnd"])};var r=function(){if(!s.preventDefault.value){switch(s.loaded={},e=s.newStart,i=s.newEnd,l.eventResizeHandling){case"Update":l.ea(s)}"function"==typeof l.onEventResized&&l.onEventResized(s)}};"function"==typeof l.onEventResize&&l.onEventResize(s),s.async||r()}},this.fa=function(t){t=t||{},clearTimeout(l.ga),l.timeHeader=null,l.cellProperties={},l.L(),l.ha(),l.events.ia(),l.ka.ja(),l.clearSelection(),this.la(),l.ma(),l.na(),l.oa(),l.pa(),l.qa(),l.ra(),l.sa(),this.ta(),this.va(),this.wa(),l.H(),this.xa(),t.immediateEvents?l.ya():setTimeout(function(){l.ya()},100),this.visible?l.c!==l.visible&&this.show():this.hide(),this.c=this.visible,this.r(),l.za(),this.Aa()},this.Aa=function(){if("function"==typeof l.onAfterUpdate){var t={};l.onAfterUpdate(t)}},this.update=function(t){if(!l.g)throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that hasn't been initialized.");if(l.a)throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");c.request(t)};var c={};c.timeout=null,c.options=null,c.enabled=!1,c.request=function(t){c.enabled?(clearTimeout(c.timeout),c.Ba(t),c.timeout=setTimeout(c.doit)):(c.Ba(t),c.doit())},c.Ba=function(t){if(t){c.options||(c.options={});for(var e in t)c.options[e]=t[e]}},c.doit=function(){var t=c.options;return c.options=null,l.g?(l.Ca(t),l.fa({"immediateEvents":!0}),void l.Da()):void l.Ca(t)},this.Ea=function(t){t.forEach(function(t){l.Fa(t.index)})},this.Ga=function(t){return t&&0!==t.length?t[0].isRow?t:t.map(function(t){return l.rowlist[t]}):[]},this.Ha=function(t,e,i){t=DayPilot.ua(t),t=l.Ga(t),l.Ea(t),this.Ia?(this.ma(),this.qa(),this.va(),t.forEach(function(t){l.Ja(t.index)}),t.forEach(function(t){l.Ka(t.index)}),this.xa(),this.La()):(t.forEach(function(t){e||l.Ja(t.index),l.Ka(t.index)}),t.forEach(function(t){l.Ma(t.index)}),l.xa()),l.s(),i&&i(),this.wa()},this.da=function(t){return"DateTime"===l.eventEndSpec?t:t.getDatePart().ticks===t.ticks?t.addDays(-1):t.getDatePart()},this.Na=function(t){return"DateTime"===l.eventEndSpec?t:t.getDatePart().addDays(1)},this.Oa=function(t){return"DateTime"===l.eventEndSpec?t:t.getDatePart()},this.Pa=function(t,e,i,n,s){if(l.Qa=null,"Disabled"!==l.eventMoveHandling){i=l.da(i);var r={};r.e=t,r.newStart=e,r.newEnd=i,r.newResource=n,r.ctrl=!1,r.meta=!1,r.shift=!1,s&&(r.shift=s.shiftKey,r.ctrl=s.ctrlKey,r.meta=s.metaKey),r.control=l,r.areaData=DayPilot.Global.movingAreaData,r.toJSON=function(){return DayPilot.Util.copyProps(r,{},["e","newStart","newEnd","newResource","ctrl","meta","shift"])},r.preventDefault=function(){this.preventDefault.value=!0};var a=function(){if(r.loaded=function(){},r.preventDefault.value)return void l.Ra();switch(e=r.newStart,i=r.newEnd,l.eventMoveHandling){case"Update":l.ea(r)}l.Ra(),"function"==typeof l.onEventMoved&&l.onEventMoved(r)};r.async=!1,r.loaded=function(){a()},"function"==typeof l.onEventMove&&l.onEventMove(r),r.async||a()}},this.ea=function(t){var e=t.e,i=t.newStart,n=t.newEnd,s=t.newResource;e.start(i),e.end(n),e.resource(s),l.events.update(e),l.events.Sa()},this.Ta=function(t){if(t)if(t.args)l.Ua(t.args.start,t.args.end,t.args.resource);else{var e=l.Va(t);if(!e)return;l.Ua(e.start,e.end,e.resource)}},this.Ua=function(t,e,i){if("Disabled"!==l.timeRangeSelectedHandling){var n=e;e=l.da(n);var s={};if(s.control=l,s.start=t,s.end=e,s.resource=i,s.preventDefault=function(){this.preventDefault.value=!0},s.toJSON=function(){return DayPilot.Util.copyProps(s,{},["start","end","resource"])},"function"==typeof l.onTimeRangeSelect){if(l.onTimeRangeSelect(s),s.preventDefault.value)return;t=s.start,e=s.end}e=l.Na(e),l.Wa(l.Xa,t,e),l.Ya(l.Xa),"function"==typeof l.onTimeRangeSelected&&l.onTimeRangeSelected(s)}},this.Wa=function(t,e,i){if(t){var n,s=i;e.getTime()<l.startDate.getTime()?(t.start.x=0,t.start.time=l.startDate.getTime()):(n=l.T(e),t.start.x=n.i,t.start.time=e);var r=l.startDate.addDays(l.days);s.getTime()>r.getTime()?(t.end.x=l.Za(),t.end.time=r.getTime()):(n=l.T(s.addMilliseconds(-1)),t.end.x=n.i,t.end.time=i)}},this.$a=function(t,e){l._a(t,e)},this._a=function(t,e){var i={};i.resource=t,i.row=t,i.ctrl=e.ctrlKey,i.shift=e.shiftKey,i.meta=e.metaKey,i.originalEvent=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onRowClick&&(l.onRowClick(i),i.preventDefault.value)||"function"==typeof l.onRowClicked&&l.onRowClicked(i)},this.ab=function(t){var e={};e.header=t,e.control=l,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeHeaderClick&&(l.onTimeHeaderClick(e),e.preventDefault.value)||"function"==typeof l.onTimeHeaderClicked&&l.onTimeHeaderClicked(e)},this.getViewport=function(){var t=this.nav.scroll.scrollLeft,e=this.nav.scroll.scrollTop,i={},n=l.bb(t,e),s=l.cb(n),r=l.R(n.start.x),a=l.R(n.end.x);return i.start=l.getDate(t,!0),i.end=l.getDate(t+l.nav.scroll.clientWidth,!0,!0),i.resources=s,r&&(i.topLeft={"start":r.start,"end":r.end,x:n.start.x,y:n.start.y,"resource":s[0]}),a&&(i.bottomRight={"start":a.start,"end":a.end,x:n.end.x,y:n.end.y,"resource":s[s.length-1]}),i.rows=function(){return i.resources.map(function(t){return l.rows.find(t)})},i.events=function(){var t=[];return i.rows().forEach(function(e){t=t.concat(e.events.forRange(i.start,i.end))}),t},i},this.bb=function(t,e){var i={};i.start={},i.end={};var n=l.Q(t),s=l.Q(t+l.nav.scroll.clientWidth);n&&(i.start.x=n.x),s&&(i.end.x=s.x);var r=e,a=e+l.nav.scroll.clientHeight;i.start.y=l.db(r).i,i.end.y=l.db(a).i,i.start.x=DayPilot.Util.atLeast(i.start.x,0);var o=l.Za();return i.end.x>=o&&(i.end.x=o-1),i},this.cb=function(t){t||(t=this.bb(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var e=[];e.ignoreToJSON=!0;for(var i=t.start.y;i<=t.end.y;i++){var n=l.rowlist[i];n&&e.push(n.id)}return e},this.C=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.oa=function(){l.nav.top.className!==l.C("_main")&&(l.nav.top.className=l.C("_main"),l.nav.dh1.className=l.C("_divider_horizontal"),l.nav.dh2.className=l.C("_divider_horizontal"),l.divResScroll.className=l.C("_rowheader_scroll"),l.nav.divider.className=l.C("_divider")+" "+l.C("_splitter"),l.nav.scroll.className=l.C("_scrollable"),l.k.className=l.C("_matrix")+" "+l.C("_grid_main"))},this.eb=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var t=l;if(t.g&&!t.a){t.a=!0;for(var e in t.fb){var n=t.fb[e];DayPilot.isArray(n)?n.forEach(function(t){clearTimeout(t)}):clearTimeout(n)}t.ta(),t.divCells=null,t.divCorner=null,t.divEvents=null,t.divHeader&&(t.divHeader.rows=null),t.divHeader=null,t.divLines=null,t.divNorth=null,t.divRange=null,t.divResScroll=null,t.divStretch=null,t.divTimeScroll=null,t.K=null,t.k.calendar=null,t.k=null,t.nav.top.onmousemove=null,t.nav.top.onmouseout=null,t.nav.top.dispose=null,t.nav.top.ontouchstart=null,t.nav.top.ontouchmove=null,t.nav.top.ontouchend=null,t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top=null,t.nav.scroll.onscroll=null,t.nav.scroll.root=null,t.nav.scroll=null,i.gb(t),h=null}},this.disposed=function(){return l.a},this.hb=function(t){var e=null;e=t.nodeType?t.event:t;var i=l.ib(e),n=l.rowlist,s=l.eventHeight,r=e.part&&e.part.top&&n[e.part.dayIndex]?e.part.top+n[e.part.dayIndex].top:i.top,o=i.left,d=i.width,c=document.createElement("div");c.style.position="absolute",c.style.width=d+"px",c.style.height=s+"px",c.style.left=o+"px",c.style.top=r+"px",c.style.overflow="hidden";var h=a();return c.appendChild(h),c.className=this.C("_shadow"),h.className=this.C("_shadow_inner"),l.divShadow.appendChild(c),c.calendar=l,c},this.db=function(t){for(var e,i=l.rowlist,n={},s=0,r=0,a=i.length,o=0;o<a;o++){var d=i[o];if(r+=d.height,s=r-d.height,e=d,n.top=s,n.bottom=r,n.i=o,n.element=e,t<r)break}return n},this.jb=function(t){if(t>this.rowlist.length-1)throw new DayPilot.Exception("Row index too high");for(var e=0,i=0;i<=t;i++)e+=this.rowlist[i].height;var n=this.rowlist[t];return{top:e-n.height,height:n.height,bottom:e,i:t,data:n}},this.events.find=function(t){if(!l.events.list||"undefined"==typeof l.events.list.length)return null;if("function"==typeof t)return l.kb(t);for(var e=l.events.list.length,i=0;i<e;i++)if(l.events.list[i].id===t)return new DayPilot.Event(l.events.list[i],l);return null},this.events.findAll=function(t){if("function"==typeof t){for(var e=l.events.list.length,i=[],n=0;n<e;n++){var s=new DayPilot.Event(l.events.list[n],l);t(s)&&i.push(s)}return i}if("object"==typeof t)return l.events.findAll(function(e){for(var i in t)if(t[i]!==e.data[i])return!1;return!0});throw new DayPilot.Exception("function or object argument expected")},this.kb=function(t){for(var e=l.events.list.length,i=0;i<e;i++){var n=new DayPilot.Event(l.events.list[i],l);if(t(n))return n}return null},this.events.focus=function(t){var e=l.lb(t);e&&e.focus()},this.events.scrollIntoView=function(t){if(l.lb(t)){var e=t.start(),i=l.getViewport();!DayPilot.Util.overlaps(i.start,i.end,t.start(),t.end())&&DayPilot.Util.overlaps(l.mb(),l.nb(),t.start(),t.end())&&l.scrollTo(e,"fast","middle");var n=t.resource();l.getViewport().resources.indexOf(n)===-1&&l.scrollToResource(n)}},this.events.all=function(){for(var t=[],e=0;e<l.events.list.length;e++){var i=new DayPilot.Event(l.events.list[e],l);t.push(i)}return t},this.events.forRange=function(t,e){t=t?new DayPilot.Date(t):l.visibleStart(),e=e?new DayPilot.Date(e):l.visibleEnd();for(var i=[],n=0;n<l.events.list.length;n++){var s=new DayPilot.Event(l.events.list[n],l);DayPilot.Util.overlaps(s.start(),s.end(),t,e)&&i.push(s)}return i},this.events.load=function(t,e,i){if(!t)throw new DayPilot.Exception("events.load(): 'url' parameter required");var n=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof i&&i(e)},s=function(t){var i,s=t.request;try{i=JSON.parse(s.responseText)}catch(t){var r={};return r.exception=t,void n(r)}if(DayPilot.isArray(i)){var a={};if(a.preventDefault=function(){this.preventDefault.value=!0},a.data=i,"function"==typeof e&&e(a),a.preventDefault.value)return;l.events.list=a.data,l.g&&l.update()}};if(l.eventsLoadMethod&&"POST"===l.eventsLoadMethod.toUpperCase())DayPilot.ajax({"method":"POST","contentType":"application/json","data":{"start":l.visibleStart().toString(),"end":l.visibleEnd().toString()},"url":t,"success":s,"error":n});else{var r=t,a="start="+l.visibleStart().toString()+"&end="+l.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+a:"?"+a,DayPilot.ajax({"method":"GET","url":r,"success":s,"error":n})}},this.events.ob=function(t){var e=[];return l.rowlist.forEach(function(i){l.pb(i.index);for(var n=0;n<i.events.length;n++){var s=i.events[n].data;if(l.qb(s,t)){e.push(i),i.events.splice(n,1);break}}}),e},this.events.rb=function(t){if(!t)return null;for(var e=l.rowlist,i=0;i<e.length;i++){var n=e[i];l.pb(n.index);for(var s=0;s<n.events.length;s++){var r=n.events[s];if(l.qb(r.data,t))return n.events[s]}}return null},this.events.sb=function(t){var e=[],i=l.tb(),n=DayPilot.indexOf(l.events.list,t);l.ub(n);var s=l.rowlist,r=!1;return s.forEach(function(s){if(!r){l.pb(s.index);var a=l.vb(t,s);a&&("function"==typeof l.onBeforeEventRender&&(a.cache=l.d.events[n]),e.push(s),i||(r=!0))}}),e},this.qb=function(t,e){return DayPilot.Util.isSameEvent(t,e)},this.events.update=function(t,e,i){if("object"==typeof t&&!(t instanceof DayPilot.Event)){var n=l.events.find(t.id);return l.events.remove(n),void l.events.add(t)}var s={};if(s.oldEvent=new DayPilot.Event(t.copy(),l),s.newEvent=new DayPilot.Event(t.temp(),l),i=i||{},l.events.list.find(function(e){return l.qb(e,t.data)})){l.E.wb&&(l.E.skip=!0);var r=l.events.ob(t.data);t.commit(),r=r.concat(l.events.sb(t.data)),l.events.xb(r)}},this.events.remove=function(t){if(t){if("string"==typeof t||"number"==typeof t){var e=l.events.find(t);return void l.events.remove(e)}({}).e=new DayPilot.Event(t.data,l);var i=l.yb(t.data);i&&l.events.list.splice(i.index,1),l.E.wb&&(l.E.skip=!0);var n=l.events.ob(t.data);l.events.xb(n)}},this.events.add=function(t,e,i){var i=i||{},n=i.renderOnly;t instanceof DayPilot.Event||(t=new DayPilot.Event(t)),t.calendar=l,l.events.list||(l.events.list=[]);var s=l.yb(t);if(n){if(!s)throw new DayPilot.Exception("Unexpected: event not found in list")}else{if(s)throw new DayPilot.Exception("The event you are trying to add using DayPilot.Scheduler.events.add() is already loaded. A unique ID is required.");s||l.events.list.push(t.data)}if(l.g){l.E.wb&&(l.E.skip=!0);({}).e=t;var r=l.events.sb(t.data);l.events.xb(r)}},this.events.zb=function(t){var e=t instanceof DayPilot.Event?t.data:t,i=new DayPilot.Date(e.start),n=new DayPilot.Date(e.end);return!!l.events.list.find(function(t){if(l.qb(e,t))return!1;if(e.resource!==t.resource)return!1;var s=new DayPilot.Date(t.start),r=new DayPilot.Date(t.end);return DayPilot.Util.overlaps(i,n,s,r)})},this.events.Ab={"rows":[]},this.events.Bb=null,this.events.ia=function(){clearTimeout(l.events.Bb),l.events.Bb=null,l.events.Ab.rows=[]},this.events.Cb=0,this.events.xb=function(t){var e=l.events.Ab.rows;t.forEach(function(t){e.push(t)}),l.events.Ab.rows=DayPilot.ua(e);var i=l.events.Sa;l.events.Bb||(l.events.Bb=setTimeout(i,l.events.Cb))},this.events.Sa=function(){clearTimeout(l.events.Bb),l.events.Bb=null;var t=l.events.Ab.rows;l.events.Ab.rows=[],l.Db(t),l.Eb(),l.g&&(l.Ia&&l.ma(),l.H(),l.Ha(t))},this.E={},this.E.enabled=!1,this.E.skip=!1,this.E.skipUpdate=function(){return l.E.skip},this.E.skipped=function(){l.E.skip=!1},this.E.Fb=!1,this.E.wb=!1,this.Gb={},this.Gb.reactDOM=null,this.Gb.react=null,this.Hb=function(t){var e=l.startDate;if(t.ticks===e.ticks)return t;var i=e;if(t.ticks<e.ticks){for(;i.ticks>t.ticks;)i=i.addTime(60*-l.U()*1e3);return i}var n=this.T(t);if(n.current)return n.current.start;throw new DayPilot.Exception("getBoxStart(): time not found")},this.ib=function(t){var e=this.db(l.coords.y);if("function"!=typeof t.end)throw new DayPilot.Exception("e.end function is not defined");if(!t.end())throw new DayPilot.Exception("e.end() returns null");var n=DayPilot.DateUtil.diff(t.rawend(),t.start());n=DayPilot.Util.atLeast(n,1);var s=v.Ib(n),r=0,a=l.coords.x;s&&(r=t.start().getTime()-this.Hb(t.start()).getTime());var o=0;if(i.Jb)if(s){var d=t.start(),c=this.Hb(d);o=i.Jb.getTime()-c.getTime();var h=60*l.U()*1e3;o=Math.floor(o/h)*h}else o=i.Jb.getTime()-t.start().getTime();var u=this.getDate(a,!0).addTime(-o);i.Kb&&(u=t.start());var f=l.snapToGrid;f&&(u=this.Hb(u)),u=u.addTime(r);var p=u.addTime(n),b=u,g=p,y=this.getPixels(b),m=this.getPixels(g.addTime(-1)),w=f?y.boxLeft:y.left,x=f&&s?m.boxRight-w:m.left-w,C={};return C.top=e.top,C.left=w,C.row=e.element,C.rowIndex=e.i,C.width=x,C.start=u,C.end=p,C.relativeY=l.coords.y-e.top,C},this.U=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080}throw new DayPilot.Exception("can't guess cellDuration value")},this.Lb=function(t){return t.end.ticks-t.start.ticks},this.Mb=function(){var t=i.Nb.width,e=i.Nb.left,n=i.Ob,s=i.Kb.dpBorder,r=null,a=null,o=l.snapToGrid,d=!o;"left"===s?(r=l.getDate(e,d),a=n.rawend()):"right"===s&&(r=n.start(),a=l.getDate(e+t,d,!0)),i.Nb.start=r,i.Nb.end=a},this.Pb=function(){var t=l.coords,e=i.Kb.dpBorder,n=i.Kb.event,s=n.part.left;"right"===e&&(s+=n.part.width);var r,a,o=i.Kb.event.calendar.cellWidth,d=n.part.width,c=n.part.left,h=0,u=t.x-s,v=l.snapToGrid;if("right"===e){if(r=c,v){var f=l.Q(d+c+u).cell,p=l.Q(c).cell,b=p.left+p.width-c;a=f.left+f.width-c,a<b&&(a=b)}else a=d+u;var g=l.F();c+a>g&&(a=g-c),i.Nb.left=c,i.Nb.width=a,i.Nb.style.left=c+"px",i.Nb.style.width=a+"px"}else{if("left"!==e)throw new DayPilot.Exception("Invalid dpBorder.");v?(u>=d&&(u=d),r=Math.floor((c+u+0)/o)*o,r<h&&(r=h)):r=c+u,a=d-(r-c);var y=c+d,m=o;v?"Never"===l.useEventBoxes&&(m=d<o?d:1):m=1,a<m&&(a=m,r=y-a),i.Nb.left=r,i.Nb.width=a,i.Nb.style.left=r+"px",i.Nb.style.width=a+"px"}l.Mb()},this.Qb=function(){if(l.coords&&i.Rb){var t=i.Sb,e=this.ib(i.Rb);t.row=e.row,t.style.height=DayPilot.Util.atLeast(e.row.height,0)+"px",t.style.top=e.top+"px",t.style.left=e.left+"px",t.style.width=e.width+"px",t.start=e.start,t.end=e.end}},this.Tb=function(){return this.rowHeaderWidth},this.Ub=function(){return this.Vb(l.progressiveRowRenderingPreload)},this.Vb=function(t){t=t||0;var e=0,i=l.rowlist.length;if(l.progressiveRowRendering){var n=l.o();e=n.yStart,i=n.yEnd+1,e=DayPilot.Util.atLeast(0,e-t),i=Math.min(l.rowlist.length,i+t)}return{"start":e,"end":i}},this.na=function(){function t(){var t=l.divHeader;t&&(t.rows=[]);var e=t;e&&(e.innerHTML="")}this.Wb=!0;var e=this.Tb();t();var i=this.divHeader;if(i.style.width=e+"px",i.style.height=l.b+"px",l.divHeader=i,l.progressiveRowRendering)n();else for(var s=this.rowlist.length,r=0;r<s;r++)l.Xb(r);l.Yb(),this.divResScroll.appendChild(i)},this.Zb=function(){if(l.progressiveRowRendering)for(var t=this.Ub(),e=0;e<l.rowlist.length;e++)t.start<=e&&e<t.end?l.Xb(e):l.$b(e)},this.Yb=function(){if(!l.ka._b()){var t=l.divHeader,e=a();e.style.position="absolute",t.appendChild(e),l.nav.resScrollSpace=e;var i=a();i.style.position="relative",i.style.height="100%",i.className=this.C("_rowheader"),e.appendChild(i);var n=this.Tb(),e=l.nav.resScrollSpace;e.style.width=n+"px",e.style.top=this.b+"px"}},this.$b=function(t){var e=l.divHeader.rows[t];e&&(DayPilot.de(e),l.divHeader.rows[t]=null)},this.Fa=function(t){this.$b(t),this.Xb(t)},this.Xb=function(t){var e=l.rowlist,i=l.divHeader;if(i&&!i.rows[t]){var n=this.Tb(),s=e[t];if(s){var r=this.ac(s),o=a();o.style.position="absolute",o.style.top=s.top+"px",i.rows[t]=o,o.row=s,o.index=t;var d=r.row,c=this.rowHeaderWidth;o.style.width=c+"px",o.style.border="0px none";var h=d.toolTip||d.toolTip;h&&(o.title=h),"undefined"!=typeof d.ariaLabel?o.setAttribute("aria-label",d.ariaLabel):o.setAttribute("aria-label",d.text||""),o.onclick=l.bc;var u=a();u.style.width=c+"px",u.className=this.C("_rowheader"),d.cssClass&&DayPilot.Util.addClass(u,d.cssClass),d.cssClass&&DayPilot.Util.addClass(u,d.cssClass);var v=d.backColor||d.backColor;v&&(u.style.background=v);var f=d.fontColor||d.fontColor;f&&(u.style.color=f);var p=d.horizontalAlignment||d.horizontalAlignment;p&&(u.style.textAlign=p),u.style.height=s.height+"px",u.style.overflow="hidden",u.style.position="relative";var b=a();switch(b.className=this.C("_rowheader_inner"),p){case"right":b.style.justifyContent="flex-end";break;case"left":b.style.justifyContent="flex-start";break;case"center":b.style.justifyContent="center"}u.appendChild(b);var g=a();g.style.position="absolute",g.style.bottom="0px",g.style.width="100%",g.style.height="0px",g.style.boxSizing="content-box",g.style.borderBottom="1px solid transparent",g.className=this.C("_resourcedivider"),u.appendChild(g);var y=a(),m=a();m.innerHTML=l.D(d.text,d.html),m.className=l.C("_rowheader_inner_text"),o.textDiv=m,o.cellDiv=u,y.appendChild(m),b.appendChild(y);var w=d.verticalAlignment||d.verticalAlignment;if(w)switch(b.style.display="flex",w){case"center":b.style.alignItems="center";break;case"top":b.style.alignItems="flex-start";break;case"bottom":b.style.alignItems="flex-end"}o.appendChild(u),i.appendChild(o),u.style.width=n+"px"}}},this.bc=function(t){var e=this.row,i=l.cc(e,this.index);l.$a(i,t)},this.dc=function(t){if("Disabled"!==l.timeHeaderClickHandling){var e={};e.start=this.cell.start,e.level=this.cell.level,e.end=this.cell.end,e.end||(e.end=new DayPilot.Date(e.start).addMinutes(l.U())),l.ab(e)}},this.ec=function(t){if("Disabled"!==l.timeHeaderRightClickHandling){t.cancelBubble=!0,t.preventDefault();var e={};e.start=this.cell.start,e.level=this.cell.level,e.end=this.cell.end,e.end||(e.end=new DayPilot.Date(e.start).addMinutes(l.U()));var i={};i.header=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof l.onTimeHeaderRightClick&&(l.onTimeHeaderRightClick(i),i.preventDefault.value)||"function"==typeof l.onTimeHeaderRightClicked&&l.onTimeHeaderRightClicked(i);
}},this.cc=function(t){return new DayPilot.Row(t,l)},this.pb=function(t){var e=l.rowlist,i=e[t];i.events||i.resetEvents()},this.fc={},this.la=function(t){if(t?this.events.list=t:this.events.list||(this.events.list=[]),null!=this.events.list&&!DayPilot.isArray(this.events.list))throw new DayPilot.Exception("DayPilot.Scheduler.events.list expects an array object");h.prepareRows(!0);var e,i=this.events.list,n="function"==typeof this.onBeforeEventRender;l.fc={};for(var s=0;s<i.length;s++){var r=i[s];if(r){if("object"!=typeof r)throw new DayPilot.Exception("Event data item must be an object");if(!r.start)throw new DayPilot.Exception("Event data item must specify 'start' property");if(r instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(!("string"==typeof r.id||"number"==typeof r.id))throw new DayPilot.Exception("All events must have an id property (string or number)");var a="_"+r.id;if(l.fc[a])throw new DayPilot.Exception("Duplicate event IDs are not allowed: "+a);l.fc[a]=!0,n&&this.ub(s),e=l.gc(r.resource);for(var o=0;e&&o<e.length;o++){var d=e[o],c=this.vb(r,d);c&&n&&(c.cache=this.d.events[s])}}}l.rowlist.forEach(function(t){l.hc(t)}),l.Eb()},this.ic={};var h=this.ic;h.rowcache={},h.prepareRows=function(t){h.rowcache={};for(var e=l.rowlist,i=0;i<e.length;i++){var n=e[i];if(t&&n.resetEvents(),l.pb(n.index),n.id){var s=typeof n.id+"_"+n.id;h.rowcache[s]||(h.rowcache[s]=[]),h.rowcache[s].push(n)}}},h.loadEvent=function(t){},this.gc=function(t){var e=typeof t+"_"+t;return h.rowcache[e]||[]},this.tb=function(){for(var t={},e=0;e<l.rowlist.length;e++){var i=l.rowlist[e],n=i.id;if(t[n])return!0;t[n]=!0}return!1},this.ub=function(t){var e=this.d.events,i=this.events.list[t],n={};i instanceof DayPilot.Event&&(i=i.data);for(var s in i)n[s]=i[s];if("string"==typeof n.start&&(n.start=new DayPilot.Date(n.start)),"string"==typeof n.end&&(n.end=new DayPilot.Date(n.end)),"function"==typeof this.onBeforeEventRender){var r={};r.e=n,r.data=n,this.onBeforeEventRender(r)}e[t]=n},this.hc=function(t){t.lines=[],t.sections=null,t.events.sort(this.jc);for(var e=0;e<t.events.length;e++){var i=t.events[e];t.putIntoLine(i)}},this.Db=function(t){t=DayPilot.ua(t),t=l.Ga(t),t.forEach(function(t){l.hc(t)}),t.forEach(function(t){l.kc(t)})},this.vb=function(t,e){var i=new DayPilot.Date(t.start),n=new DayPilot.Date(t.end);n=l.Na(n);var s=i.ticks,r=n.ticks,a=l.startDate.ticks,o=l.startDate.addDays(l.days).ticks;if(r<s)return null;var d=null;if("function"==typeof l.onBeforeEventRender){var c=DayPilot.indexOf(l.events.list,t);d=l.d.events[c]}if(e.id!==t.resource||(r<=a||s>=o)&&(s!==r||s!==a))return null;var h=new DayPilot.Event(t,l);h.part.dayIndex=l.rowlist.indexOf(e),h.part.start=a<s?i:l.startDate,h.part.end=o>r?n:l.startDate.addDays(l.days);var u=this.getPixels(h.part.start),f=this.getPixels(h.part.end.addTime(-1));h.part.start===h.part.end&&(f=this.getPixels(h.part.end.addMilliseconds(1)));var p=u.left,b=f.left;if(v.Ib(r-s)){var g=u.boxLeft,y=f.boxRight;h.part.left=g,h.part.width=y-g,h.part.barLeft=Math.max(p-h.part.left,0),h.part.barWidth=Math.max(b-p,1)}else h.part.left=p,h.part.width=Math.max(b-p,1),h.part.barLeft=0,h.part.barWidth=Math.max(b-p-1,1);var m=l.eventMinWidth;return h.part.width=Math.max(h.part.width,m),h.part.right=h.part.left+h.part.width,h.cache=d,e.events.push(h),h},this.jc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var i=t.start().ticks-e.start().ticks;return 0!==i?i:e.end().ticks-t.end().ticks},this.rows={},this.rows.all=function(){for(var t=[],e=0;e<l.rowlist.length;e++){var i=l.cc(l.rowlist[e]);t.push(i)}return t},this.rows.each=function(t){l.rows.all().forEach(t)},this.rows.forEach=function(t){l.rows.all().forEach(t)},this.rows.find=function(t,e){if("string"==typeof t||"number"==typeof t||!t&&e){var i=l.gc(t);t||(i=l.rowlist);var n=null;return"string"==typeof e||e instanceof DayPilot.Date?(e=new DayPilot.Date(e),n=i.find(function(t){return e===t.start})):n=i[0],n?new DayPilot.Row(n,l):null}if("function"!=typeof t)throw new DayPilot.Exception("Invalid rows.find() argument: id or function expected");var s=e||0,r=l.rowlist.find(function(e,i){return!(i<s)&&t(l.cc(e))});if(r)return l.cc(r)},this.rows.load=function(t,e,i){if(!t)throw new DayPilot.Exception("rows.load(): 'url' parameter required");var n=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof i&&i(e)},s=function(t){var i,s=t.request;try{i=JSON.parse(s.responseText)}catch(t){var r={};return r.exception=t,void n(r)}if(DayPilot.isArray(i)){var a={};if(a.preventDefault=function(){this.preventDefault.value=!0},a.data=i,"function"==typeof e&&e(a),a.preventDefault.value)return;l.resources=a.data,l.g&&l.update()}};l.rowsLoadMethod&&"POST"===l.rowsLoadMethod.toUpperCase()?DayPilot.ajax({"method":"POST","url":t,"success":s,"error":n}):DayPilot.ajax({"method":"GET","url":t,"success":s,"error":n})},this.rows.remove=function(t){if("number"==typeof t||"string"==typeof t){var e=l.rows.find(t);if(!e)throw new DayPilot.Exception("The row to be removed was not found");return void l.rows.remove(e)}var i=t.$.row.resource,n=DayPilot.indexOf(l.resources,i);l.resources.splice(n,1),l.update()},this.rows.add=function(t){l.resources.push(t),l.fa()},this.rows.update=function(t){if(!(t instanceof DayPilot.Row||"object"==typeof t))throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object or a data object.");if(!(t instanceof DayPilot.Row)){var e=t;if(t=l.rows.find(e.id),!t)return;t.data=e}var i=t.index,n=l.rowlist,s=n[i],r=t.data,a=t.parent()?t.parent().$.row:null,o=l.lc(r),t=l.nc(o,a);t.level=s.level,t.index=i,t.top=s.top,t.height=s.height,n[i]=t,t.resetEvents(),l.pb(t.index),l.oc(t),l.hc(t),l.Fa(t.index),l.va(),l.xa()},this.oc=function(t){for(var e=l.events.list,i=e.length,n="function"==typeof l.onBeforeEventRender,s=0;s<i;s++){var r=e[s];if(r){if(r instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if(r.resource===t.id){n&&this.ub(s);var a=this.vb(r,t);a&&n&&(a.cache=this.d.events[s])}}}},this.ha=function(){var t=this.resources;if({}.i=0,null!=t&&!DayPilot.isArray(t))throw new DayPilot.Exception("DayPilot.Scheduler.resources expects an array object");t=t||[],l.rowlist=[],this.pc(t)},this.mb=function(){return new DayPilot.Date(this.startDate)},this.nb=function(){return new DayPilot.Date(l.startDate).addDays(l.days)},this.visibleStart=function(){return this.mb()},this.visibleEnd=function(){return this.nb()},this.nc=function(t){var e={};return e.backColor=t.backColor,e.fontColor=t.fontColor,e.cssClass=t.cssClass,e.name=t.name,e.html=l.D(t.name,t.html),e.id=t.id,e.toolTip=t.toolTip,e.tags=t.tags,e.height=l.eventHeight,e.level=0,e.resource=t.qc,e.lines=[],e.isRow=!0,e.getHeight=function(){return Math.max(l.eventHeight,this.lines.length*l.eventHeight)},e.resetEvents=function(){var t=this;t.events=[],t.events.forRange=function(e,i){e=new DayPilot.Date(e),i=i?new DayPilot.Date(i):l.startDate.addDays(l.days);for(var n=[],s=0;s<t.events.length;s++){var r=t.events[s],a=l.Na(r.end());DayPilot.Util.overlaps(r.start(),a,e,i)&&n.push(r)}return n}},e.rc=function(){var t=[];return t.add=function(t){this.push(t)},t.isFree=function(t,e,i){for(var n=t+e-1,s=this.length,r=0;r<s;r++){var a=this[r];if(!(n<a.part.left||t>a.part.left+a.part.width-1)){if(DayPilot.contains(i,a.data))continue;return!1}}return!0},t},e.findFreeLine=function(t,i){for(var n=0;n<this.lines.length;n++){var s=this.lines[n];if(s.isFree(t,i))return n}var s=e.rc();return this.lines.push(s),this.lines.length-1},e.putIntoLine=function(t){var i=e.findFreeLine(t.part.left,t.part.width);return this.lines[i].add(t),i},e},this.pc=function(t){if(t)for(var e=l.rowlist,i=0;i<t.length;i++)if(t[i]){var n={};n.index=i;var s=this.lc(t[i],n),r=l.nc(s,parent);r.index=i,e.push(r)}},this.ac=function(t){var e={};return e.row=this.cc(t),DayPilot.Util.copyProps(t,e.row,["html","backColor","fontColor","cssClass","toolTip"]),"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(e),e},this.lc=function(t,e){var i={get $data(){return this.qc}};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];return i.html=l.D(t.name,t.html),i.qc=t,i},this.sc=function(){this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.C("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),this.nav.top.style.userSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.ontouchstart=u.tc,this.nav.top.ontouchmove=u.uc,this.nav.top.ontouchend=u.vc;var t=this.rowHeaderWidth,e=a();e.style.position="absolute",e.style.left="0px",e.style.width=t+"px";var i=a();i.style.height="0px",i.style.boxSizing="content-box",i.style.borderTop="1px solid transparent",i.className=this.C("_divider_horizontal"),this.nav.dh1=i,this.nav.left=e,e.appendChild(this.wc()),e.appendChild(i),e.appendChild(this.xc());var n=a();n.style.position="absolute",n.style.left=t+"px",n.style.width="1px",n.style.height=this.J()+this.I()+"px",n.className=this.C("_splitter"),this.nav.divider=n;var s=a();s.style.marginLeft=t+1+"px",s.style.marginRight="1px",s.style.position="relative",this.nav.right=s;var r=a();r.style.position="absolute",r.style.top=this.J()+"px",r.style.width="100%",r.style.height="0px",r.style.boxSizing="content-box",r.style.borderBottom="1px solid transparent",r.setAttribute("data-dh2","true"),r.className=this.C("_divider_horizontal"),this.nav.dh2=r,s.appendChild(l.yc()),s.appendChild(l.zc()),s.appendChild(r);var o=a();o.style.clear="left";var d=a();d.style.height="1px",d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.display="none",d.className=this.C("_divider_horizontal"),this.nav.dividerTop=d;var c=a();c.style.height="1px",c.style.position="absolute",c.style.left="0px",c.style.right="0px",c.style.display="none",c.className=this.C("_divider_horizontal")+" "+this.C("_divider_horizontal_frozen_bottom"),this.nav.dividerBottom=c,this.nav.top.appendChild(e),this.nav.top.appendChild(n),this.nav.top.appendChild(s),this.nav.top.appendChild(o),this.nav.top.appendChild(d),this.nav.top.appendChild(c)},this.sa=function(){var t=this.J();this.nav.corner&&(this.nav.corner.style.height=t+"px"),this.divTimeScroll&&(this.divTimeScroll.style.height=t+"px"),this.divNorth&&(this.divNorth.style.height=t+"px"),this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=t+"px",this.nav.dh2.style.top=t+"px"),this.nav.scroll.style.top=t+1+"px"},this.Ac=function(){var t=this.rowHeaderWidth;this.nav.corner&&(this.nav.corner.style.width=t+"px"),this.divResScroll.style.width=t+"px",this.nav.left.style.width=t+"px",this.nav.divider.style.left=t-1+"px",this.nav.right.style.marginLeft=t+"px"},this.Bc=function(){var t=this.rowHeaderWidth,e=this.divHeader;e.style.width=t+"px";for(var i=l.Ub(),n=i.start;n<i.end;n++){var s=e.rows[n];if(s){var r=l.rowHeaderWidth;s.style.width=r+"px";s.firstChild.style.width=r+"px"}}l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.width=t+"px")},this.ra=function(){this.Ac(),this.Bc()},this.wc=function(){var t=this.rowHeaderWidth,e=a();l.nav.corner=e,e.style.width=t+"px",e.style.height=this.J()+"px",e.style.overflow="hidden",e.style.position="relative",e.oncontextmenu=function(){return!1},e.className=this.C("_corner");var i=a();return i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom="0px",i.className=this.C("_corner_inner"),i.innerHTML="&nbsp;",this.divCorner=i,e.appendChild(i),e},this.J=function(){return l.timeHeaders?l.timeHeaders.length*l.headerHeight:0},this.Cc=null,this.xc=function(){var t=a();t.style.width=this.rowHeaderWidth+"px",t.style.height=this.I()+"px",t.style.overflow="hidden",t.style.position="relative",t.className=l.C("_rowheader_scroll");var n=l.ka._b();n&&(t.style.overflowY="auto"),t.ontouchstart=function(){i.Dc=!0},t.oncontextmenu=function(){return!1},t.onscroll=function(){if(l.Cc&&clearTimeout(l.Cc),n){var s=function(){var e=l.Ec()-l.nav.scroll.offsetHeight;t.scrollTop=Math.min(t.scrollTop,e),l.nav.scroll.scrollTop=t.scrollTop};e?i.Dc&&(l.Cc=setTimeout(s,10)):l.Cc=setTimeout(s,10)}else l.Cc=setTimeout(function(){l.nav.scroll.scrollTop=t.scrollTop},500)},t.setAttribute("role","region"),t.setAttribute("aria-label","scheduler rows");var s=a();return this.divHeader=s,t.appendChild(s),this.divResScroll=t,this.K=t,t},this.Fc=null,this.Gc=null,this.Hc=function(){var t=function(){l.Ic(),l.za()},e=function(){var e=l.nav.top;if(e){if(!l.Fc)return l.Fc={},void(l.Fc.width=e.offsetWidth);l.Fc.width!==e.offsetWidth&&(l.Fc.width=e.offsetWidth,t())}};if(!l.Gc){var i=new ResizeObserver(DayPilot.debounce(e,100));i.observe(l.nav.top),l.Gc=i}},this.Ic=function(){l.a||(l.H(),l.Jc(),l.d.drawArea=null)},this.Jc=function(){var t=l.Xa;l.clearSelection(),l.Xa=t,l.Ya(t,{"justDraw":!0})},this.yc=function(){var t=a();t.style.overflow="hidden",t.style.display="block",t.style.position="absolute",t.style.top="0px",t.style.width="100%",t.style.height=this.J()+"px",t.style.overflow="hidden",t.className=l.C("_timeheader_scroll"),this.divTimeScroll=t;var e=a();return e.style.width=this.F()+5e3+"px",this.divNorth=e,t.appendChild(e),t},this.I=function(){var t=0,e=l.heightSpec;return"Fixed"===e?this.height?this.height:0:(t=l.Ec(),"Max"===e&&t>l.height?l.height:t)},this.Ec=function(){var t;return this.b!==-1?(t=this.b,this.b>0&&"auto"===l.nav.scroll.style.overflowX&&(t+=DayPilot.sh(l.nav.scroll)+1)):t=this.rowlist.length*l.eventHeight,t},this.zc=function(){var t=a();t.style.overflow="auto",t.style.overflowX="auto",t.style.overflowY="auto",t.style.height=this.I()+"px",t.style.top=this.J()+1+"px",t.style.position="absolute",t.style.width="100%",t.className=this.C("_scrollable"),t.oncontextmenu=function(){return!1},this.nav.scroll=t,this.k=a();var e=this.k;e.style.userSelect="none",e.style.webkitUserSelect="none",e.calendar=this,e.style.position="absolute";var i=this.F();return i>0&&(e.style.width=i+"px"),e.onmousedown=this.Kc,e.onmousemove=this.Lc,e.onmouseup=this.Mc,e.oncontextmenu=this.Nc,e.className=this.C("_matrix"),this.divStretch=a(),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",e.appendChild(this.divStretch),this.divCells=a(),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.Nc,e.appendChild(this.divCells),this.divLines=a(),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.Nc,e.appendChild(this.divLines),this.divSeparators=a(),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.Nc,e.appendChild(this.divSeparators),this.divRange=a(),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.Nc,e.appendChild(this.divRange),this.divEvents=a(),this.divEvents.style.position="absolute",e.appendChild(this.divEvents),this.divShadow=a(),this.divShadow.style.position="absolute",e.appendChild(this.divShadow),t.appendChild(e),t},this.Oc=function(){i.Pc||(i.Pc=!0,DayPilot.re(document,"mouseup",i.Qc),DayPilot.re(document,"touchmove",i.Rc),DayPilot.re(document,"touchend",i.Sc))},this.Tc=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.za,l.Uc=this.nav.scroll.scrollLeft,l.Vc=this.nav.scroll.scrollTop,this.divNorth&&(l.Wc=this.divNorth.clientWidth)},this.Xc={},this.Xc.step=300,this.Xc.delay=10,this.Xc.mode="display",this.Xc.layers=!1,this.kc=function(t){for(var e=0,i=0;i<t.lines.length;i++){for(var n=t.lines[i],s=0;s<n.length;s++){var r=n[s];r.part.line=i,r.part.top=e,r.part.right=r.part.left+r.part.width}e+=l.eventHeight}},this.ga=null,this.ya=function(t){if(!l.a){var e=this.Xc.step;"display"===this.Xc.mode?this.divEvents.style.display="none":"visibility"===this.Xc.mode&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");var i="Progressive"===this.dynamicEventRendering,n=this.o(),s=n.pixels.top,r=n.pixels.bottom;l.rowlist.filter(function(t){var e=t.top-l.dynamicEventRenderingMargin,n=e+t.height+2*l.dynamicEventRenderingMargin;return!i||!(r<=e||s>=n)}).forEach(function(i){l.kc(i);for(var n=0;n<i.lines.length;n++)for(var s=i.lines[n],r=0;r<s.length;r++){var a=s[r],o=l.Yc(a);if(t&&o&&(e--,e<=0))return l.divEvents.style.visibility="",l.divEvents.style.display="",void(l.ga=setTimeout(function(){l.ya(t)},l.Xc.delay))}}),this.divEvents.style.display="",this.s()}},this.Ka=function(t){var e=l.rowlist[t];this.kc(e);for(var i=0;i<e.lines.length;i++)for(var n=e.lines[i],s=0;s<n.length;s++){var r=n[s];this.Yc(r)}},this.ta=function(){if(this.elements.events)for(var t=this.elements.events.length,e=0;e<t;e++){var i=this.elements.events[e];this.Zc(i)}this.elements.events=[]},this.Ja=function(t){if(this.elements.events){for(var e=this.elements.events.length,i=[],n=0;n<e;n++){var s=this.elements.events[n];s.event.part.dayIndex===t&&(this.Zc(s),i.push(n))}for(var n=i.length-1;n>=0;n--)this.elements.events.splice(i[n],1)}},this.Zc=function(t){t.remove(),t.onclick=null,t.oncontextmenu=null,t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onmousedown=null,t.ondblclick=null,t.event&&(t.event.rendered=null,t.event=null)},this.$c=function(){if("Progressive"===this.dynamicEventRendering){if(l.dynamicEventRenderingCacheSweeping){var t=l.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var e=[],i=0,n=this.elements.events.length,s=n-1;s>=0;s--){var r=this.elements.events[s];this._c(r.event)?t>0?(t--,e.unshift(r)):(this.Zc(r),i++):e.unshift(r)}this.elements.events=e,this.divEvents.style.display=""}}},this.ad=function(t){for(var e=this.o(),i=this.elements.cells.length,n=i-1;n>=0;n--){var s=this.elements.cells[n];e.xStart<s.coords.x&&s.coords.x<=e.xEnd&&e.yStart<s.coords.y&&s.coords.y<=e.yEnd||(t>0?t--:this.bd(s))}},this.bd=function(t){if(t&&t.coords){var e=t.coords.x,i=t.coords.y;DayPilot.rfa(l.elements.cells,t),DayPilot.de(t),l.d.cells[e+"_"+i]=null}},this.cd=function(){var t="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var e=this.nav.scroll.scrollTop,i=e+this.nav.scroll.clientHeight,n=0;n<this.rowlist.length;n++){var s=this.rowlist[n],r=s.top,a=s.top+s.height;if(!t||!(i<=r||e>=a))for(var o=0;o<s.lines.length;o++)for(var l=s.lines[o],d=0;d<l.length;d++){var c=l[d];if(this.dd(c))return!0}}return!1},this.dd=function(t){if(t.rendered)return!1;var e="Progressive"===this.dynamicEventRendering,i=this.nav.scroll.scrollLeft,n=i+this.nav.scroll.clientWidth,s=t.part.left,r=t.part.left+t.part.width;return!e||!(n<=s||i>=r)},this._c=function(t){if(!t.rendered)return!0;var e=this.o(),i=e.pixels.top,n=e.pixels.bottom,s=e.pixels.left-this.dynamicEventRenderingMargin,r=e.pixels.right+this.dynamicEventRenderingMargin,a=t.part.left,o=t.part.right,d=t.part.top,c=t.part.top+l.eventHeight;return r<=a||s>=o||(n<=d||i>=c)},this.Yc=function(t,e){e=e||{};var i=e.forced;if(t.rendered)return!1;var n="Progressive"===this.dynamicEventRendering,s=t.part.dayIndex,r=l.divEvents,o=l.rowlist,d=o[s],c=d.top,h=this.o(),v=h.pixels.left-this.dynamicEventRenderingMargin,f=h.pixels.right+this.dynamicEventRenderingMargin,p=h.pixels.top,b=h.pixels.bottom,g=t.part.left,y=t.part.left+t.part.width,m=t.part.top+c,w=m+l.eventHeight,x=f<=g||v>=y,C=b<=m||p>=w;if(!i&&n&&(x||C))return!1;var E=t.part.width,D=l.eventHeight,T=t.cache||t.data;E=DayPilot.Util.atLeast(0,E),D=DayPilot.Util.atLeast(0,D);var S=a();S.style.position="absolute",S.style.left=t.part.left+"px",S.style.top=c+t.part.top+"px",S.style.width=E+"px",S.style.height=D+"px",l.eventTextWrappingEnabled||(S.style.whiteSpace="nowrap"),S.style.overflow="hidden",S.className=this.C("_event"),T.cssClass&&DayPilot.Util.addClass(S,T.cssClass);"number"==typeof t.part.line&&DayPilot.Util.addClass(S,this.C("_event_line"+t.part.line)),this.showToolTip&&(S.title=t.client.toolTip()||""),S.onmousemove=this.ed,S.onmousedown=this.fd,S.onmouseup=this.gd,S.ontouchstart=u.hd,S.ontouchmove=u.jd,S.ontouchend=u.kd,t.client.clickEnabled()&&(S.onclick=this.V),"undefined"!=typeof T.ariaLabel?S.setAttribute("aria-label",T.ariaLabel):S.setAttribute("aria-label",T.text),S.setAttribute("tabindex","-1");var R=a();R.className=l.C("_event_inner"),T.backColor&&(R.style.background=T.backColor),T.fontColor&&(R.style.color=T.fontColor),"darker"===T.borderColor&&T.backColor?R.style.borderColor=DayPilot.ColorUtil.darker(T.backColor,2):R.style.borderColor=T.borderColor,T.backImage&&(R.style.backgroundImage="url("+T.backImage+")",T.backRepeat&&(R.style.backgroundRepeat=T.backRepeat)),S.appendChild(R);var k=t.start().getTime()===t.part.start.getTime(),H=t.rawend().getTime()===t.part.end.getTime();if(k||DayPilot.Util.addClass(S,this.C("_event_continueleft")),H||DayPilot.Util.addClass(S,this.C("_event_continueright")),t.client.barVisible()&&E>0){var M=100*t.part.barLeft/E,_=Math.ceil(100*t.part.barWidth/E),N=a();N.className=this.C("_event_bar"),N.style.position="absolute",T.barBackColor&&(N.style.backgroundColor=T.barBackColor);var U=a();U.className=this.C("_event_bar_inner"),U.style.left=M+"%",0<_&&_<=1?U.style.width="1px":U.style.width=_+"%",T.barColor&&(U.style.backgroundColor=T.barColor),T.barImageUrl&&(U.style.backgroundImage="url("+T.barImageUrl+")"),N.appendChild(U),S.appendChild(N)}S.row=s,S.event=t,R.innerHTML=t.client.innerHTML();var P=[];return function(){if("Disabled"!==l.eventDeleteHandling&&!T.deleteDisabled){var t=l.durationBarVisible?l.durationBarHeight:0;P.push({v:"Hover",w:17,h:17,top:t+2,right:2,css:l.C("_event_delete"),onClick:function(t){l.ba(t.source)}})}}(),T.areas&&(P=P.concat(T.areas)),DayPilot.Areas.attach(S,t,{areas:P}),this.elements.events.push(S),r.appendChild(S),t.rendered=!0,!0},this.D=function(t,e){return l.ka.ld()?DayPilot.Util.escapeTextHtml(t,e):DayPilot.Util.isNullOrUndefined(e)?DayPilot.Util.isNullOrUndefined(t)?"":t:e},this.La=function(){for(var t=0;t<this.elements.events.length;t++){var e=this.elements.events[t],i=e.event,n=i.part.dayIndex,s=l.rowlist[n],r=s.top,a=r+i.part.top,o=s.height,d=l.eventHeight,c=!1;i.part.top+d>o&&(d=Math.max(0,o-i.part.top),c=!0),e.style.top=a+"px",e.style.height=d+"px"}},this.md=function(t){if(!t)return null;for(var e=0;e<l.elements.events.length;e++){var i=l.elements.events[e];if(i.event===t||i.event.data===t.data)return i}return null},this.lb=function(t){var e=l.events.rb(t.data);if(!e)return null;var i=l.rowlist[e.part.dayIndex];return l.kc(i),l.Yc(e,{"forced":!0}),l.md(e)},this.ed=function(t){for(var e=this;e&&!e.event;)e=e.parentNode;e.event;l.nd(e,t),l.aa(t)},this.X={},this.fd=function(t){l.aa(t);var e=DayPilot.Util.mouseButton(t);t.preventDefault(),t.stopPropagation(),e.left&&("w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(i.W=!0,i.Kb=this,i.Ob=this.event,i.od=DayPilot.mc(t),r().style.cursor=this.style.cursor):("move"===this.style.cursor||this.event.client.moveEnabled())&&l.pd(this,t))},this.gd=function(t){DayPilot.Util.mouseButton(t).right&&l._.call(this,t)},this.pd=function(t,e){var i=l.X;l.aa(e),i.qd=!0,i.X=t,i.Rb=t.event,i.od=DayPilot.mc(e),i.rd=DayPilot.mo3(t,e).x,i.Jb=l.getDate(l.coords.x,!0)},this.sd={};var u=l.sd;"undefined"==typeof DayPilot.Global.touch&&(DayPilot.Global.touch={}),DayPilot.Global.touch.active=!1,DayPilot.Global.touch.start=!1,u.fb=[],u.hd=function(e){if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){e.stopPropagation(),u.td(),DayPilot.Global.touch.start=!0,DayPilot.Global.touch.active=!1;var i=this;l.coords=u.ud(e);var n=l.tapAndHoldTimeout;u.fb.push(setTimeout(function(){DayPilot.Global.touch.active=!0,DayPilot.Global.touch.start=!1,e.preventDefault();var n=i.event;switch(l.eventTapAndHoldHandling){case"Move":if(n.client.moveEnabled()){var s=t(e);u.pd(i,s)}}},n))}},u.jd=function(t){u.td(),DayPilot.Global.touch.start=!1},u.kd=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(u.td(),DayPilot.Global.touch.start){DayPilot.Global.touch.start=!1,t.preventDefault(),t.stopPropagation();var e=this;setTimeout(function(){l.Z(e,t)})}setTimeout(function(){DayPilot.Global.touch.start=!1,DayPilot.Global.touch.active=!1},500)}},u.tc=function(t){if(!(DayPilot.Global.touch.active||DayPilot.Global.touch.start||t.touches.length>1||"Disabled"===l.timeRangeSelectedHandling)){u.td(),DayPilot.Global.touch.start=!0,DayPilot.Global.touch.active=!1;var e=l.tapAndHoldTimeout;u.fb.push(setTimeout(function(){DayPilot.Global.touch.active=!0,DayPilot.Global.touch.start=!1,t.preventDefault(),l.coords=u.ud(t),u.vd=l.wd()},e));l.coords=u.ud(t)}},u.uc=function(t){if(u.td(),DayPilot.Global.touch.start=!1,i.Kb)return t.preventDefault(),void u.xd();if(DayPilot.Global.touch.active){if(t.preventDefault(),l.coords=u.ud(t),i.X)return void u.yd();if(u.vd){var e=u.vd;e.end={x:Math.floor(l.coords.x/l.cellWidth),"time":l.getDate(l.coords.x,!0)},l.Ya(e)}}},u.debug=function(t){},u.vc=function(t){u.td();if(DayPilot.Global.touch.active){if(i.X){t.preventDefault();var e=i.Rb;if(l!==i.Sb.calendar)return;var n=i.Sb.start,s=i.Sb.end,a=i.Sb.row.id;DayPilot.Util.removeClass(i.X,l.C("_event_moving_source")),DayPilot.de(i.Sb),i.Sb.calendar=null,r().style.cursor="",i.X=null,i.Rb=null,i.Sb=null,l.Pa(e,n,s,a)}if(u.vd){var o=u.vd;u.vd=null;var d=l.elements.range2;d&&d.overlapping?l.clearSelection():l.Ta(o)}}else if(DayPilot.Global.touch.start){if(l.coords.x<l.getScrollX())return;var o=l.wd();l.Ya(o);var d=l.elements.range2;d&&d.overlapping?l.clearSelection():l.Ta(o)}setTimeout(function(){DayPilot.Global.touch.start=!1,DayPilot.Global.touch.active=!1},500)},u.td=function(){for(var t=0;t<u.fb.length;t++)clearTimeout(u.fb[t]);u.fb=[]},u.ud=function(t){function e(t,e,i){var n=DayPilot.abs(i);return{x:t-n.x,y:e-n.y,toString:function(){return"x: "+this.x+", y:"+this.y}}}var i=l.k,n=t.touches?t.touches[0]:t;return e(n.pageX,n.pageY,i)},u.pd=function(t,e){i.X=t,i.Rb=t.event,i.od=e;var n=DayPilot.abs(t);i.rd=e.x-n.x,i.Jb=l.getDate(l.coords.x,!0),i.Sb=l.hb(t),l.Qb()},u.xd=function(){if(!i.Nb){var t=i.Kb;i.Nb=l.hb(t)}l.Pb()},u.yd=function(){if(!i.Sb){var t=i.X;i.Sb=l.hb(t)}i.Sb.calendar.Qb()},this.nd=function(t,e){var n=this.eventResizeMargin,s=t;if("undefined"!=typeof i){var r=DayPilot.mo3(t,e);if(r&&(l.eventOffset=r,!i.Kb&&!i.X)){var a=s.event.part.start.toString()===s.event.start().toString(),o=s.event.part.end.toString()===s.event.rawend().toString();r.x<=n&&s.event.client.resizeEnabled()?a?(t.style.cursor="w-resize",t.dpBorder="left"):t.style.cursor="not-allowed":t.offsetWidth-r.x<=n&&s.event.client.resizeEnabled()?o?(t.style.cursor="e-resize",t.dpBorder="right"):t.style.cursor="not-allowed":i.Kb||i.X||(s.event.client.clickEnabled()?t.style.cursor="pointer":t.style.cursor="default")}}},this.Za=function(){var t=l.U();return l.days*(1440/t)},this.Va=function(t){var t=t||i.vd||l.Xa;if(!t)return null;var e=l.rowlist[t.start.y];if(!e)return null;var n,s,r=t,a=r.end.time>r.start.time,o=e.id,d=a?r.start.x:r.end.x,c=a?r.end.x:r.start.x,h=l.snapToGrid;h?(n=l.R(d).start,s=l.R(c).end):a?(n=r.start.time,s=r.end.time):(n=r.end.time,s=r.start.time);var u=new DayPilot.Selection(n,s,o,l);return u.allowed=!t.div||!t.div.overlapping,u},this.pa=function(){this.d.timeHeader={},l.elements.timeHeader.length>0&&(l.elements.timeHeader=[]);var t=a();t.style.position="relative",this.nav.timeHeader=t;for(var e=0;e<this.timeHeader.length;e++)for(var i=this.timeHeader[e],n=0;n<i.length;n++)this.zd(n,e);var s=this.divNorth;1===s.childNodes.length?s.replaceChild(t,s.childNodes[0]):(s.innerHTML="",s.appendChild(t));var r=this.F();s.style.width=r+5e3+"px",r>0&&(this.divStretch.style.width=r+"px")},this.O=function(t,e){var i=null,n=this.ka.N(),e=e||this.cellGroupBy,s=t.start;switch(e){case"Minute":i=s.toString("m");break;case"Hour":i="Clock12Hours"===l.ka.Ad()?s.toString("h tt",n):s.toString("H",n);break;case"Day":i=s.toString(n.datePattern);break;case"Week":i=1===v.Bd()?s.weekNumberISO():s.weekNumber();break;case"Month":i=s.toString("MMMM yyyy",n);break;case"Quarter":i="Q"+Math.floor(s.getMonth()/3+1);break;case"Year":i=s.toString("yyyy");break;case"None":i="";break;case"Cell":var r=(t.end.ticks-t.start.ticks)/6e4;i=this.Cd(s,r);break;default:throw new DayPilot.Exception("Invalid groupBy value: "+e)}return i},this.Cd=function(t,e){var i=this.ka.N(),e=e||this.cellDuration;return e<1?t.toString("ss"):e<60?t.toString("mm"):e<1440?"Clock12Hours"===l.ka.Ad()?t.toString("h tt",i):t.toString("H",i):e<10080?t.toString("d"):10080===e?1===v.Bd()?t.weekNumberISO():t.weekNumber():t.toString("MMMM yyyy",i)},this.M=function(t,e,i){var n,s=l.startDate.addDays(l.days);e=e||this.cellGroupBy;var r=60;switch(e){case"Minute":t.getMinutes()+t.getSeconds()+t.getMilliseconds()>0&&(t=t.getDatePart().addHours(t.getHours()).addMinutes(t.getMinutes())),n=t.addMinutes(1);break;case"Hour":t.getHours()+t.getMinutes()+t.getSeconds()+t.getMilliseconds()>0&&(t=t.getDatePart().addHours(t.getHours())),n=t.addHours(1);break;case"Day":n=t.getDatePart().addDays(1);break;case"Week":for(n=t.getDatePart().addDays(1);n.dayOfWeek()!==v.Bd();)n=n.addDays(1);break;case"Month":t=t.getDatePart(),n=t.addMonths(1),n=n.firstDayOfMonth();for(var a=DayPilot.DateUtil.diff(n,t)/6e4%r===0;!a;)n=n.addHours(1),a=DayPilot.DateUtil.diff(n,t)/6e4%r===0;break;case"Quarter":for(t=t.getDatePart(),n=t.addMonths(1),n=n.firstDayOfMonth();n.getMonth()%3;)n=n.addMonths(1);for(var a=DayPilot.DateUtil.diff(n,t)/6e4%r===0;!a;)n=n.addHours(1),a=DayPilot.DateUtil.diff(n,t)/6e4%r===0;break;case"Year":t=t.getDatePart(),n=t.addYears(1),n=n.firstDayOfYear();for(var a=DayPilot.DateUtil.diff(n,t)/6e4%r===0;!a;)n=n.addHours(1),a=DayPilot.DateUtil.diff(n,t)/6e4%r===0;break;case"None":n=s;break;case"Cell":var o=this.T(t);o.current&&(n=o.current.end);break;default:throw i?new DayPilot.Exception("Invalid scale value: "+e):new DayPilot.Exception("Invalid groupBy value: "+e)}return n.getTime()>s.getTime()&&(n=s),n},this.zd=function(t,e){var i=this.nav.timeHeader,n=this.timeHeader[e][t],s=e<this.timeHeader.length-1,r=n.left,o=n.width,d=e*l.headerHeight,c=l.headerHeight,h=a();h.style.position="absolute",h.style.top=d+"px",h.style.left=r+"px",h.style.width=o+"px",h.style.height=c+"px",n.toolTip&&(h.title=n.toolTip),h.setAttribute("aria-hidden","true"),n.cssClass&&DayPilot.Util.addClass(h,n.cssClass),h.style.userSelect="none",h.style.webkitUserSelect="none",h.oncontextmenu=function(){return!1},h.cell={},h.cell.start=n.start,h.cell.end=n.end,h.cell.level=e,h.cell.th=n,h.onclick=this.dc,h.oncontextmenu=this.ec,DayPilot.re(h,DayPilot.touch.start,function(t){t.stopPropagation()}),h.style.overflow="hidden",l.timeHeaderTextWrappingEnabled||(h.style.whiteSpace="nowrap");var u=a();u.innerHTML=l.D(n.text,n.innerHTML),n.backColor&&(u.style.background=n.backColor),n.fontColor&&(u.style.color=n.fontColor);var v=this.C("_timeheadercol"),f=this.C("_timeheadercol_inner");s&&(v=this.C("_timeheadergroup"),f=this.C("_timeheadergroup_inner")),DayPilot.Util.addClass(h,v),DayPilot.Util.addClass(u,f),DayPilot.Util.addClass(h,l.C("_timeheader_cell")),DayPilot.Util.addClass(u,l.C("_timeheader_cell_inner")),h.appendChild(u),this.d.timeHeader[t+"_"+e]=h,this.elements.timeHeader.push(h),i.appendChild(h)},this.Eb=function(){l.rowlist.forEach(function(t){var e=t.getHeight();t.height!==e&&(l.Ia=!0),t.height=e}),l.Ia&&(l.d.drawArea=null)},this.qa=function(){l.rowlist.forEach(function(t){var e=l.divHeader;if(e){var i=t.index;if(e.rows[i]){var n=e.rows[i];l.Wb&&(n.style.top=t.top+"px");var s=t.height;n&&n.firstChild&&parseInt(n.firstChild.style.height,10)!==s&&(n.firstChild.style.height=s+"px")}}}),l.Wb&&l.nav.resScrollSpace&&(l.nav.resScrollSpace.style.top=l.b+"px")},this.Kc=function(t){if(!DayPilot.Global.touch.start&&!DayPilot.Global.touch.active){
i.Dd,1,l.aa(t);var e=DayPilot.Util.mouseButton(t);if(l.Ed())return!1;if(e.middle||e.right)return!1;if(l.Fd(l.coords))return!1;var n=e.left?"left":e.right?"right":e.middle?"middle":"unknown";return l.Gd=n,i.vd=l.wd(),i.vd&&(i.Hd=l),!1}},this.wd=function(){var t={},e=l.Q(l.coords.x).x,i=l.getDate(l.coords.x,!0);return t.start={y:l.db(l.coords.y).i,x:e,"time":i},t.end={x:e,"time":i},t.calendar=l,l.Ya(t),t},this.Mc=function(t){if(l.X={},l.Xa){if(DayPilot.Util.mouseButton(t).left){var e=l.Xa;if(l.Fd(l.coords)){var n=function(t){return function(){i.Dd=null;var e=l.Va(t);if(e){var n={};n.start=e.start,n.end=e.end,n.resource=e.resource,n.preventDefault=function(){n.preventDefault.value=!0},"function"==typeof l.onTimeRangeClick&&l.onTimeRangeClick(n),n.preventDefault.value||"function"==typeof l.onTimeRangeClicked&&l.onTimeRangeClicked(n)}}};"Disabled"!==l.timeRangeClickHandling&&n(e)()}}}},this.Ed=function(){return!!(i.Kb||i.X||i.vd)||!!l.X.qd},this.dragInProgress=function(){return l.Ed()},this.aa=function(t){var e=DayPilot.mo3(l.k,t);e=e||{},e.stamp=e.x+"_"+e.y,l.coords&&l.coords.stamp===e.stamp||(l.coords=e)},this.Lc=function(t){if(!DayPilot.Global.touch.active){var e=DayPilot.mc(t);if(l.aa(t),l.X.qd){DayPilot.distance(l.X.od,e)>2&&(DayPilot.Util.copyProps(l.X,i),r().style.cursor="move",l.X={})}i.Kb&&i.Ob.calendar===l?(i.Kb.event||(i.Kb.event=i.Ob),l.Id()):i.Rb?l.Jd():i.vd&&i.vd.calendar===l&&(i.vd.moved=!0,l.Kd())}},this.Kd=function(){var t=i.vd,e=l.Q(l.coords.x).x,n=l.getDate(l.coords.x,!0);t.end={x:e,"time":n},l.Ya(t)},this.Id=function(){i.Nb||(i.Nb=l.hb(i.Kb)),l.Pb()},this.Jd=function(){if(!i.Sb){DayPilot.Util.addClass(i.X,l.C("_event_moving_source"));var t=i.Rb;i.Sb=l.hb(t)}l.Qb()},this.Nc=function(t){return t.cancelBubble=!0,!1},this.Fd=function(t){var e=l.Xa;if(!e||!e.start||!e.end)return!1;var i=this.jb(e.start.y),n=e.start.x<e.end.x,s=(n?e.start.x:e.end.x)*this.cellWidth,r=(n?e.end.x:e.start.x)*this.cellWidth+this.cellWidth,a=i.top,o=i.bottom;return t.x>=s&&t.x<=r&&t.y>=a&&t.y<=o},this.Ya=function(t){function e(t){var e,i,r,o,d=t.end.time>t.start.time,c=t.start.y,h=t.start.time&&t.end.time;if(n||!h){var u=d?t.start.x:t.end.x,v=d?t.end.x:t.start.x,f=l.R(u),p=l.R(v);e=f.left,i=p.left+p.width}else d?(r=t.start.time,o=t.end.time):(r=t.end.time,o=t.start.time),e=l.getPixels(r).left,i=l.getPixels(o).left;var b=i-e,g=l.elements.range2;if(!g){g=a(),g.style.position="absolute";var y=a();y.className=l.C("_shadow_inner"),g.appendChild(y),l.divShadow.appendChild(g)}return g.className=l.C("_shadow"),g.firstChild.innerHTML="",g.style.left=e+"px",g.style.top=s[c].top+"px",g.style.width=b+"px",g.style.height=s[c].height-1+"px",g.calendar=l,l.elements.range2=g,g}if(t=t||i.vd){var n=l.snapToGrid,s=l.rowlist;e(t)}},this.Ld=function(t){return{"start":{"x":t.start.x,"y":t.start.y,"time":t.start.time},"end":{"x":t.end.x,"time":t.end.time},"calendar":t.calendar,"args":t.args}},this.fb={},this.fb.ya=null,this.fb.drawCells=null,this.fb.drawRows=null,this.fb.click=null,this.fb.resClick=[],this.fb.updateFloats=null,this.za=function(){if(!l.a){l.wa();var t=l.nav.scroll;if(l.Uc=t.scrollLeft,l.Vc=t.scrollTop,l.Wc=t.clientWidth,l.divTimeScroll&&(l.divTimeScroll.scrollLeft=l.Uc),e&&i.Dc?n():l.divResScroll.scrollTop=l.Vc,l.progressiveRowRendering&&(l.fb.drawRows&&(clearTimeout(l.fb.drawRows),l.fb.drawRows=null),l.scrollDelayRows>0?l.fb.drawRows=setTimeout(function(){l.Zb()},l.scrollDelayRows):l.Zb()),l.fb.drawCells&&(clearTimeout(l.fb.drawCells),l.fb.drawCells=null),l.scrollDelayCells>0)l.fb.drawCells=setTimeout(l.Md(),l.scrollDelayCells);else{l.Md()()}l.fb.ya&&(clearTimeout(l.fb.ya),l.fb.ya=null),l.scrollDelayEvents>0?l.fb.ya=setTimeout(l.Nd(),l.scrollDelayEvents):l.ya(),l.fb.updateFloats&&(clearTimeout(l.fb.updateFloats),l.fb.updateFloats=null),l.scrollDelayFloats>0?l.fb.updateFloats=setTimeout(function(){l.r()},l.scrollDelayFloats):l.r(),l.onScrollCalled=!0}},this.Md=function(){return function(){l&&l.xa()}},this.Nd=function(){return function(){l&&(l.cd()?setTimeout(function(){l.$c(),setTimeout(function(){l.ya(!0)},50)},50):l.s())}},this.wa=function(){l.d.drawArea=null},this.show=function(){l.visible=!0,l.c=!0,l.nav.top.style.display="",l.Od(),l.Ic(),l.za()},this.hide=function(){l.visible=!1,l.c=!1,l.nav.top.style.display="none"},this.yb=function(t){if(!l.events.list)return null;for(var e=0;e<this.events.list.length;e++){var i=this.events.list[e];if(l.qb(i,t)){var n={};return n.ex=i,n.index=e,n}}return null},this.Pd=function(){var t=this.o(),e=t.xStart,i=t.xEnd-t.xStart,n=t.yStart,s=t.yEnd-t.yStart;this.cellProperties||(this.cellProperties={});for(var r=0;r<=i;r++){for(var a=e+r,o=0;o<s;o++){var l=n+o;this.Qd(a,l)}this.Rd(a)}for(var d=this.Ub(),l=d.start;l<d.end;l++)this.Sd(l)},this.xa=function(){if(!l.a){var t=l.rowlist;if(t&&t.length>0){if(this.cellSweeping){var e=this.cellSweepingCacheSize;this.ad(e)}this.Pd()}this.Ia=!1}},this.o=function(){if(l.d.drawArea)return l.d.drawArea;if(!this.nav.scroll)return null;var t=l.Vc,e={},i=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,n=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,s=l.Uc-i,r=s+l.Wc+2*i,a=0,o=0;a=l.Q(s).x,o=l.Q(r,!0).x;var d=this.Za();o=Math.min(o,d-1),a=DayPilot.Util.atLeast(a,0);var c=t-n,h=t+this.nav.scroll.offsetHeight+2*n,u=this.db(c).i,v=this.db(h).i;v<this.rowlist.length&&v++,e.xStart=a,e.xEnd=o,e.yStart=u,e.yEnd=v;var f=l.nav.scroll;return 0===f.clientWidth&&(f=l.divTimeScroll),e.pixels={},e.pixels.left=f.scrollLeft,e.pixels.right=f.scrollLeft+f.clientWidth,e.pixels.top=f.scrollTop,e.pixels.bottom=f.scrollTop+f.clientHeight,e.pixels.width=f.scrollWidth,e.sw=DayPilot.sw(l.nav.scroll),l.d.drawArea=e,e},this.F=function(){return l.Za()*l.cellWidth},this.Sd=function(t){var e=l.rowlist,i=l.divLines,n="y_"+t;if(!this.d.linesHorizontal[n]){var s=e[t],r=s.height,o=s.top+r-1,d=this.F(),c=a();c.style.left="0px",c.style.top=o+"px",c.style.width=d+"px",c.style.height="1px",c.style.fontSize="1px",c.style.lineHeight="1px",c.style.overflow="hidden",c.style.position="absolute",c.className=this.C("_matrix_horizontal_line"),i.appendChild(c),this.d.linesHorizontal[n]=c}},this.Rd=function(t){var e=l.R(t);if(e){var i=l.divLines,n=l.b,s="x_"+t;if(!this.d.linesVertical[s]){var r=e.left+e.width-1,o=a();o.style.left=r+"px",o.style.top="0px",o.style.width="1px",o.style.height=n+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.className=this.C("_matrix_vertical_line"),i.appendChild(o),this.elements.linesVertical.push(o),this.d.linesVertical[s]=o}}},this.ma=function(){l.b=l.Td(l.rowlist)},this.Td=function(t){for(var e=0,i=0;i<t.length;i++){var n=t[i];n.top=e,e+=n.height}return e},this.va=function(){l.elements.cells=[],l.d.cells=[],l.divCells.innerHTML="",l.Ud()},this.Ud=function(){l.divLines.innerHTML="",l.d.linesVertical={},l.d.linesHorizontal={},l.elements.linesVertical=[]},this.Ma=function(t){var e=[];for(var i in l.d.cells)e.push(l.d.cells[i]);e.filter(function(e){return e&&e.coords&&e.coords.y===t}).forEach(function(t){l.bd(t)})},this.Qd=function(t,e){if(this.g){var i=l.R(t);if(i){var n=l.rowlist,s=l.divCells,r=t+"_"+e;if(!this.d.cells[r]){var o=this.Vd(t,e),d=a();d.style.left=i.left+"px",d.style.top=n[e].top+"px",d.style.width=i.width+"px",d.style.height=n[e].height+"px",d.style.position="absolute",o&&o.backColor&&(d.style.backgroundColor=o.backColor),d.className=this.C("_cell"),d.coords={},d.coords.x=t,d.coords.y=e,o&&o.business&&l.cellsMarkBusiness&&DayPilot.Util.addClass(d,l.C("_cell_business")),s.appendChild(d),this.elements.cells.push(d),this.d.cells[r]=d}}}},this.clearSelection=function(){this.Wd()},this.Xd=function(t,e,i){t=new DayPilot.Date(t),e=new DayPilot.Date(e);var n=l.m(i),s=l.T(t);if(!s.current)throw new DayPilot.Exception("Time range selection 'start' out of timeline");var r=l.T(new DayPilot.Date(e).addMilliseconds(-1));if(!r.current)throw new DayPilot.Exception("Time range selection 'end' out of timeline");var a={};return a.start={y:n.index,x:s.i,"time":t},a.end={x:r.i,"time":e},a.calendar=this,a},this.selectTimeRange=function(t,e,i,n){var s=l.Xd(t,e,i);l.Ya(s),n||setTimeout(function(){l.Ta(s)},0)},this.Ra=function(){var t=i.Sb&&i.Sb.source;t&&DayPilot.Util.removeClass(t,l.C("_event_moving_source")),DayPilot.de(i.Sb),i.Sb=null,DayPilot.Global.movingLink&&(DayPilot.Global.movingLink.clear(),DayPilot.Global.movingLink=null)},this.Wd=function(){l.divShadow&&(l.divShadow.innerHTML=""),l.elements.range=[],l.elements.range2=null,l.Xa=null,l.Yd=null},this.ka={};var v=this.ka;v.ja=function(){delete l.d.headerHeight},v.ld=function(){return"Disabled"!==l.xssProtection},v.N=function(){return DayPilot.Locale.find(l.locale)},v.Ad=function(){return"Auto"!==l.timeFormat?l.timeFormat:v.N().timeFormat},v.Bd=function(){if("Auto"===l.weekStarts){var t=v.N();return t?t.weekStarts:0}return l.weekStarts||0},v._b=function(){var t=navigator.userAgent.toLowerCase();return t.indexOf("mobile")!==-1||t.indexOf("android")!=-1},v.Ib=function(t){return"Always"===l.useEventBoxes||"Never"!==l.useEventBoxes&&t<60*l.U()*1e3},this.Vd=function(t,e){var i=t+"_"+e,n=l.rowlist;if(this.cellProperties||(this.cellProperties={}),this.cellProperties[i])return this.cellProperties[i];if(!this.cellProperties[i]){var s=n[e],r=s.id,a=l.R(t),o=a.start,d=a.end,c={};c.start=o,c.end=d,c.resource=r;var h={};h.business=l.isBusiness(c),this.cellProperties[i]=h}return this.cellProperties[i]},this.isBusiness=function(t,e){var i=t.start,n=t.end,s=(n.getTime()-i.getTime())/6e4;if(s<=1440&&!(l.businessWeekends||e||0!==t.start.dayOfWeek()&&6!==t.start.dayOfWeek()))return!1;if(s<720){var r=i.getHours();r+=i.getMinutes()/60,r+=i.getSeconds()/3600,r+=i.getMilliseconds()/36e5;var a=this.businessBeginsHour,o=this.businessEndsHour;if(0===o&&(o=24),a===o)return!1;if(!(a<o))return r<o||r>=a;if(r<a)return!1;if(o>=24)return!0;if(r>=o)return!1}return!0},this.Od=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Zd=function(t){this.heightSpec="Fixed",this.height=t-(this.J()+2),this.H()},this.setHeight=this.Zd,this.m=function(t){return l.gc(t)[0]},this.$d=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw new DayPilot.Exception("DayPilot.Scheduler() constructor requires the target element or its ID as a parameter");if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw new DayPilot.Exception("DayPilot.Scheduler: The placeholder element not found: '"+s+"'.")}},this.init=function(){if(this.g)throw new DayPilot.Exception("This instance is already initialized. Use update() to change properties.");if(this.$d(),this.nav.top.dp){if(this.nav.top.dp===l)return l;throw new DayPilot.Exception("The target placeholder was already initialized by another DayPilot component instance.")}return this._d(),this.Hc(),this},this._d=function(){this.sc(),this.Oc(),this.eb(),this.Tc(),this.fa();var angular=l.E.enabled;l.scrollToDate?l.scrollTo(l.scrollToDate):l.scrollX||l.scrollY?l.setScroll(l.scrollX,l.scrollY):angular||l.za(),l.scrollToResourceId&&(l.scrollToResource(l.scrollToResourceId),l.scrollToResourceId=null);var t=function(){l.scrollY&&l.setScroll(l.scrollX,l.scrollY)};setTimeout(t,200),this.wa(),this.Da(),this.g=!0;var e=l.j;e?l.scrollTo(e):l.za()},this.ae=null,this.Ca=function(t){if(t){var e={"resources":{"preInit":function(){var t=this.data;t&&(l.resources=t)}},"events":{"preInit":function(){var t=this.data;t&&(DayPilot.isArray(t.list)?l.events.list=t.list:l.events.list=t)},"postInit":function(){}},"scrollTo":{"preInit":function(){},"postInit":function(){this.data&&l.f(this.data)}},"scrollX":{"postInit":function(){this.data&&l.l(this.data)}},"scrollY":{"postInit":function(){this.data&&l.G(this.data)}}};l.ae=e,l.E.scrollToRequested&&(e.scrollTo.data=l.E.scrollToRequested,l.E.scrollToRequested=null),l.E.scrollXRequested&&(e.scrollX.data=l.E.scrollXRequested,l.E.scrollXRequested=null),l.E.scrollYRequested&&(e.scrollY.data=l.E.scrollYRequested,l.E.scrollYRequested=null);for(var i in t)e[i]||(l[i]=t[i]);for(var i in t)if(e[i]){var n=e[i];n.data=t[i],n.preInit&&n.preInit()}}},this.Da=function(){var t=l.ae;for(var e in t){var i=t[e];i.postInit&&i.postInit()}l.ae={}},this.be={},this.be.ce=null,this.be.ee=function(t,e,i){var n=l.be.ce;if("function"==typeof n.createVNode&&"function"==typeof n.render){var s=n.createVNode(t,i);n.render(s,e)}},this.be.fe=function(t,e){var i=l.be.ce;if("function"==typeof i.render){var n=t;DayPilot.isArray(t)&&(n=i.h("div",null,t)),i.render(n,e)}},this.be.ge=function(t){var e=l.be.ce;"function"==typeof e.render&&e.render(null,t)},this.internal={},this.internal.adjustEndIn=l.Na,this.internal.adjustEndNormalize=l.Oa,this.internal.xssTextHtml=l.D,this.internal.touch=l.sd,this.internal.skipUpdate=l.E.skipUpdate,this.internal.skipped=l.E.skipped,this.internal.loadOptions=l.Ca,this.internal.postInit=l.Da,this.internal.enableAngular2=function(){l.E.enabled=!0},this.internal.eventsFromAttr=function(){l.E.wb=!0},this.internal.resourcesFromAttr=function(){l.E.Fb=!0},this.internal.evImmediateRefresh=function(){l.events.Sa()},this.internal.enableReact=function(t,e){l.Gb.react=t,l.Gb.reactDOM=e},this.internal.reactRefs=function(){return DayPilot.Util.copyProps(l.Gb,{},["react","reactDOM"])},this.internal.enableVue=function(t){l.be.ce=t},this.internal.vueRef=function(){return l.be.ce},this.internal.vueRendering=function(){return l.be.he},this.Ca(o)},s="2025.2.674"===(new DayPilot.Scheduler).v,DayPilot.Row=function(t,e){if(!t)throw new DayPilot.Exception("Now row object supplied when creating DayPilot.Row");if(!e)throw new DayPilot.Exception("No parent control supplied when creating DayPilot.Row");this.ie={};var i=this.ie;i.id=t.id,i.name=t.name,i.data=t.resource,i.tags=t.tags;var n=this;n.isRow=!0,n.menuType="resource",n.name=t.name,n.id=t.id,n.tags=t.tags,n.index=t.index,n.calendar=e,n.data=t.resource,n.je=t,n.$={},n.$.row=t,n.toJSON=function(t){var e={};return e.start=this.start,e.name=this.name,e.id=this.id,e.index=this.index,e},n.events={},n.events.all=function(){for(var t=[],e=0;e<n.je.events.length;e++)t.push(n.je.events[e]);return t},n.events.isEmpty=function(){return 0===n.je.events.length},n.events.forRange=function(t,e){return n.je.events.forRange(t,e)},n.events.totalDuration=function(){var t=0;return n.events.all().forEach(function(e){t+=e.part.end.getTime()-e.part.start.getTime()}),new DayPilot.Duration(t)},n.remove=function(){e.rows.remove(n)},n.addClass=function(t){var i=e.divHeader,s=i.rows[n.index];DayPilot.Util.addClass(s,t),n.$.row.cssClass=DayPilot.Util.addClassToString(n.$.row.cssClass,t),n.data.cssClass=t},n.removeClass=function(t){var i=e.divHeader,s=i.rows[n.index];DayPilot.Util.removeClass(s,t),n.$.row.cssClass=DayPilot.Util.removeClassFromString(n.$.row.cssClass,t),n.data.cssClass=DayPilot.Util.removeClassFromString(n.data.cssClass,t)}},i.X=null,i.Rb=null,i.od=null,i.Kb=null,i.Ob=null,i.W=!1,i.Pc=!1,i.Dd=null,i.ke=null,i.gb=function(t){DayPilot.ue(document,"mouseup",i.Qc),DayPilot.ue(document,"touchmove",i.Rc),DayPilot.ue(document,"touchend",i.Sc),i.Pc=!1},i.Rc=function(t){if(i.Kb){var e=i.Kb.event.calendar;e.coords=e.sd.ud(t),e.sd.xd(),t.preventDefault()}if(i.X){t.preventDefault();var e=i.Rb.calendar;e.coords=e.sd.ud(t),e.sd.yd()}},i.Sc=function(t){i.Dc=!1,i.Qc(t)},i.Qc=function(t){if(i.Kb){var e=function(){var t=i.Ob,e=t.calendar;r().style.cursor="",i.Kb=null,i.Ob=null,DayPilot.de(i.Nb),i.Nb=null,e&&(e.le=null)};if(setTimeout(function(){i.W=!1}),!i.Nb)return void e();var s=i.Ob,a=s.calendar,o=i.Nb.start,l=i.Nb.end,d="left"===i.Kb.dpBorder?"start":"end";e(),a.ca(s,o,l,d)}else if(i.Rb){var e=function(){DayPilot.Global.movingAreaData=null;var t=i.Sb&&i.Sb.calendar;i.Sb&&(DayPilot.de(i.Sb),i.Sb.calendar=null),r().style.cursor="",i.X=null,i.Rb=null,t&&(t.Qa=null)};if(!i.Sb)return void e();var s=i.Rb,a=i.Sb.calendar;if(!a)return void e();if(i.Sb.source=i.X,!i.Sb.row)return void e();var o=i.Sb.start,l=i.Sb.end,c=i.Sb.row.id;i.Sb.calendar=null,r().style.cursor="",i.X=null,i.Rb=null,a.Pa(s,o,l,c,t),DayPilot.Global.movingAreaData=null}else if(i.vd){var h=DayPilot.Util.mouseButton(t),u=i.vd,a=u.calendar,e=function(){};a.Yd=null;t.ctrlKey||t.metaKey;if(i.Dd)return clearTimeout(i.Dd),i.Dd=null,void e();a.Xa=u,i.vd=null;var v=function(t){return function(){i.Dd=null,a.Ta(t),"Hold"!==a.timeRangeSelectedHandling&&"HoldForever"!==a.timeRangeSelectedHandling?n():a.Xa=t}},f=a.Ld(u);return e(),h.left?(v(f)(),t.cancelBubble=!0,!1):void(i.Dd=null)}i.rd=null,i.Jb=null}}}(DayPilot);